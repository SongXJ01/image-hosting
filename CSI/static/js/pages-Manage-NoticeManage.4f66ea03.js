(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Manage-NoticeManage"],{2403:function(n,t,i){"use strict";var e=i("30f4"),a=i.n(e);a.a},"30f4":function(n,t,i){var e=i("9f60");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var a=i("4f06").default;a("509fb975",e,!0,{sourceMap:!1,shadowMode:!1})},"6aff":function(n,t,i){"use strict";var e;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return e}));var a=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-uni-view",{staticClass:"bg-white"},[i("v-uni-view",{staticClass:"fixed"},[i("cu-custom",{attrs:{isBack:!0,bgColor:"text-white"}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[n._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[n._v("公告管理")])],2)],1),i("v-uni-view",{staticClass:"UCenter-bg"},[i("v-uni-image",{staticClass:"png",attrs:{src:"/static/Logo.png",mode:"widthFix"}}),i("v-uni-image",{staticClass:"gif-wave",attrs:{src:"/static/wave.gif",mode:"scaleToFill"}})],1),i("v-uni-button",{staticClass:"flex margin-lg padding-lg cu-btn line-orange shadow radius text-lg",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.addNotice()}}},[i("v-uni-text",{staticClass:"cuIcon-roundadd margin"}),n._v("添 加 公 告")],1),i("v-uni-view",{staticClass:"padding-sm "},[i("v-uni-view",{staticClass:"cu-list menu sm-border card-menu margin-lr myBorder"},[i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",[i("v-uni-text",{staticClass:"cuIcon-circlefill text-red margin-sm"}),i("v-uni-text",{staticClass:"text-bold"},[n._v("公告列表")])],1),n.isEdit?i("v-uni-view",{staticClass:"cu-tag round light bg-red",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.change_isEdit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cuIcon-close text-red margin-right-sm"}),n._v("删除")],1):i("v-uni-view",{staticClass:"cu-tag round light bg-white",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.change_isEdit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cuIcon-moreandroid text-bold text-blue margin-right-sm"})],1)],1),n._l(n.NoticeList,(function(t,e){return i("v-uni-view",{key:t.id,staticClass:"cu-item arrow"},[i("v-uni-view",{staticClass:"align-center cf"},[n.isEdit?i("v-uni-checkbox",{staticClass:"margin-right-sm",class:t.checked?"checked":"",attrs:{checked:!!t.checked},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.CheckboxChange(t)}}}):i("v-uni-text",{staticClass:"margin-right-sm cuIcon-title text-blue"}),i("v-uni-text",{staticClass:"text-bold text-lg",on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.showDetail(t)}}},[n._v(n._s(t.title))]),i("v-uni-text",{staticClass:"text-grey",on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.showDetail(t)}}},[n._v("（"+n._s(t.loginname)+"）-"+n._s(t.create_date.split("T")[0]))])],1)],1)}))],2)],1),n.pageNum>=n.allPages?i("v-uni-view",{staticClass:"bottom-text"},[i("v-uni-text",[n._v("已经到底了~")])],1):n._e(),"modelDetail"==n.modalName?i("v-uni-view",{staticClass:"cu-modal show",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.hideDetail()}}},[i("v-uni-view",{staticClass:"cu-dialog bg-white"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content"},[n._v(n._s(n.nowNotice.title))]),i("v-uni-view",{staticClass:"action",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.hideDetail.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"margin-right"},[n._v(n._s(n.nowNotice.loginname))]),i("v-uni-text",{staticClass:"margin-left"},[n._v(n._s(n.nowNotice.create_date.split("T")[0]))])],1),i("v-uni-scroll-view",{staticClass:"padding margin text-left noticeBorder notice-content"},[i("v-uni-view",{staticClass:"margin-sm"},[n._v(n._s(n.nowNotice.content))])],1),i("v-uni-button",{staticClass:"padding cu-btn round line-orange shadow margin-bottom",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.updateNotice()}}},[n._v("修改公告信息")])],1)],1):n._e(),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"cu-tabbar-height"})],1)},s=[]},"9f60":function(n,t,i){var e=i("24fb");t=e(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 橘色圆角边框 */.noticeBorder[data-v-626236a2]{border-radius:%?30?%;border-style:solid;border-color:#f37b1d;border-width:1.5px}\n/* 公告内容 */.notice-content[data-v-626236a2]{width:90%;height:%?400?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}",""]),n.exports=t},af37:function(n,t,i){"use strict";(function(n){i("99af"),i("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i("2f62"),a={computed:(0,e.mapState)({notice:function(n){return n.notice}}),data:function(){return{colorList:this.$store.state.colorList,NoticeList:"",modalName:"",nowNotice:"",isEdit:!1,pageNum:1,pageSize:10,allPages:1e4}},onShow:function(){var n=this;this.getNoticeList().then((function(t){n.NoticeList=t}))},onReachBottom:function(){var t=this;n("log","触底加载数据",this.pageNum," at pages/Manage/NoticeManage.vue:119"),this.getNoticeList().then((function(n){t.pageNum=t.pageNum+1,t.NoticeList=t.NoticeList.concat(n)}))},methods:{getNoticeList:function(){var t=this;return new Promise((function(i,e){t.pageNum<t.allPages&&(uni.showLoading({title:"加载中"}),uni.request({url:t.$store.state.apiPath+"/notice/queryAll",method:"POST",data:{pageNum:t.pageNum,pageSize:t.pageSize},success:function(e){uni.hideLoading(),n("log",e," at pages/Manage/NoticeManage.vue:143");var a=e.data.notices;t.allPages=e.data.allPages,i(a)},fail:function(n){e(n)}}))}))},updateNotice:function(){this.hideDetail(),uni.navigateTo({url:"NoticeDetail"})},addNotice:function(){uni.navigateTo({url:"NoticeAdd"})},CheckboxChange:function(n){n.checked=!n.checked},change_isEdit:function(){this.isEdit=!this.isEdit},showDetail:function(t){n("log","展示详情视图: ",t," at pages/Manage/NoticeManage.vue:184"),this.nowNotice=t,this.$store.dispatch("notice/Cache",t),this.modalName="modelDetail"},hideDetail:function(){n("log","隐藏详情视图"," at pages/Manage/NoticeManage.vue:192"),this.nowNotice="",this.modalName=""}}};t.default=a}).call(this,i("0de9")["log"])},dae6:function(n,t,i){"use strict";i.r(t);var e=i("6aff"),a=i("fb14");for(var s in a)"default"!==s&&function(n){i.d(t,n,(function(){return a[n]}))}(s);i("2403");var c,o=i("f0c5"),l=Object(o["a"])(a["default"],e["b"],e["c"],!1,null,"626236a2",null,!1,e["a"],c);t["default"]=l.exports},fb14:function(n,t,i){"use strict";i.r(t);var e=i("af37"),a=i.n(e);for(var s in e)"default"!==s&&function(n){i.d(t,n,(function(){return e[n]}))}(s);t["default"]=a.a}}]);